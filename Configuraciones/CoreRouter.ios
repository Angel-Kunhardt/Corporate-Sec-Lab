en
conf t
hostname CoreRouter
no ip domain lookup
enable secret class
line console 0
password LabSec2025
login
line vty 0 4
password LabSec2025
transport input ssh
login
banner motd $--- Unauthorized Access is Strictly Forbidden ---$
service password-encryption
banner motd $Solo Usuarios autorizados$
username SSHadmin secret LabSec2025
ip domain name LabSec.Dev
crypto key generate rsa general-keys modulus 1024

ip route 0.0.0.0 0.0.0.0 172.16.0.9

int g0/0
ip add 172.16.0.10 255.255.255.252
description CoreRouter->Firewall
no sh
exit

int g1/0
no ip add
description CoreRouter->CoreSwitch
no sh
exit

router ospf 10
router-id 10.10.10.10
passive-int default
no passive-int g0/0
network 172.16.0.0 0.0.0.3 area 0
network 172.16.0.4 0.0.0.3 area 0
network 172.16.0.8 0.0.0.3 area 0
network 172.16.1.0 0.0.0.15 area 0
network 172.16.10.0 0.0.0.255 area 0
network 172.16.20.0 0.0.0.255 area 0
network 172.16.21.0 0.0.0.255 area 0
network 172.16.22.0 0.0.0.255 area 0
network 172.16.23.0 0.0.0.255 area 0

int g1/0.100
encapsulation dot1q 100 native
ip address 172.16.1.1 255.255.255.240
description VLAN 100 - Management
ip ospf 10 area 0

int g1/0.10
encapsulation dot1q 10
ip add 172.16.10.1 255.255.255.0
 description VLAN 10 - DataCenter
ip ospf 10 area 0

int g1/0.23
encapsulation dot1q 23
ip address 172.16.23.1 255.255.255.0
description VLAN 23 - IT
ip ospf 10 area 0

int g1/0.20
encapsulation dot1q 20
ip address 172.16.20.1 255.255.255.0
description VLAN 20 - HR
ip ospf 10 area 0

int g1/0.21
encapsulation dot1q 21
ip address 172.16.21.1 255.255.255.0
description VLAN 21 - Finance
ip ospf 10 area 0

int g1/0.22
encapsulation dot1q 22
ip address 172.16.22.1 255.255.255.0
description VLAN 22 - Administration
ip ospf 10 area 0